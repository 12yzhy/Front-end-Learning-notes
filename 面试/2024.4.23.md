## 1 浏览器的渲染过程
## 2、小程序的性能优化
开启代码压缩
 - 上传代码时勾选开发者工具中"压缩代码"选项；
处理静态资源
- 预先对图片、视频等静态资源进行物理压缩，推荐大家一个在线压缩图片的网站TinyPNG；
- 能使用CDN服务的图片视频等就尽量不要打到代码包中； 
对页面进行分包
- 主包只打首页等高频页面
- 用户可能不会访问的页面分模块打到子包中，如果用户果然不访问这些页面，就不会对这些分包进行下载了
- 包配置请参考uni-app卖座电影多端开发纪实（六）：多端打包/分包配置
## 3 加载css和js文件是否会阻塞html渲染吗？

  在Web开发中，加载CSS和JavaScript文件对HTML渲染的影响是不同的。

### CSS文件

1. **阻塞渲染**：浏览器在构建DOM（文档对象模型）时，会同步加载和解析CSS文件。这意味着在CSS文件完全加载和解析完成之前，浏览器会阻塞HTML的渲染过程。这有时会导致白屏现象，即用户在页面加载期间看到一片空白。

2. **解析样式**：一旦CSS文件加载完成，浏览器会解析样式并应用到页面上，这可能会导致页面的重新渲染，因为元素的尺寸和布局可能因应用CSS样式而改变。

3. **优化**：为了减少这种阻塞，可以采用以下策略：
   - 使用内联CSS，将关键的CSS样式放在HTML文档的`<head>`部分，以便尽早加载和应用。
   - 将CSS放在外部文件中，但利用媒体查询或`async`/`defer`属性来控制加载时机。

### JavaScript文件

1. **阻塞解析**：浏览器在解析HTML时，如果遇到`<script>`标签，默认情况下会同步加载和执行其中的JavaScript代码。这意味着，如果JavaScript文件很大或者网络较慢，它会阻塞HTML的解析过程。

2. **阻塞DOM构建**：JavaScript代码可能会操作DOM，因此浏览器需要等待脚本执行完成后才能继续构建DOM，这可能导致渲染延迟。

3. **优化**：为了减少这种阻塞，可以采用以下策略：
   - 使用`async`或`defer`属性。`async`允许异步加载脚本，但仍然会在加载完成后阻塞DOM的构建。`defer`则允许异步加载脚本，并在DOM构建完成后按顺序执行。
   - 将`<script>`标签放在HTML文档的底部，尽可能在`</body>`标签之前，这样即使脚本执行会阻塞DOM构建，也不会影响可见内容的渲染。

### HTML解析和渲染过程

1. **解析HTML**：浏览器开始解析HTML文档，并构建DOM。

2. **解析CSS**：浏览器在解析HTML时遇到`<link>`标签加载CSS文件，会同步加载CSS并解析样式。

3. **构建渲染树**：一旦DOM和CSSOM（CSS对象模型）都构建完成，浏览器会结合两者构建渲染树。

4. **布局（Reflow）**：浏览器根据渲染树计算每个节点的几何信息。

5. **绘制（Paint）**：浏览器将节点绘制到屏幕上。

6. **JavaScript执行**：如果遇到`<script>`标签，浏览器会加载并执行JavaScript代码，这可能会修改DOM或CSSOM，从而触发重新布局和绘制。

通过理解加载CSS和JavaScript文件对HTML渲染的影响，可以采取相应的优化措施，提高页面的加载和渲染性能。、

## 4、闭包、内存泄漏 、浏览器的垃圾回收机制
  闭包会导致内存泄漏原因
  1、持有了不在需要的函数或变量的引用，会导致函数关联的词法环境无法销毁，从而导致内存泄漏
  2、当多个函数共享词法环境时,会导致词法环境膨胀，从而导致出现无法触达也无法回收的内存空间，从而导致内存泄漏
 浏览器的垃圾回收机制 ==>引用计数法和标记清除法（新生代/旧生代及星历图）
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        // 书写一个求值函数
        function sum(a, b) {
            // 假装经过一系列复杂的计算
            a *= 2;
            b *= 3;
            a /= 3;
            b /= 2;
            console.log(a + b);
            // 求和得出结果
            return a + b;
        }

        // sum(6, 6);
        // sum(6, 6);
        // sum(6, 6);
        // sum(6, 6);
        // 控制台会输出4次a

        function memory(fn){
            var obj = {}
            return function (){
                // 对象属性名是字符串，将参数变成字符串形式
                var key = JSON.stringify([arguments]);
                console.log(key,obj)
                
                return obj[key] || (obj[key] = fn.apply(fn,arguments));
            }
        }
        var memorySum = memory(sum)
        memorySum(6,6);
        memorySum(6,6);
        memorySum(6,6);
        memorySum(6,6);







    </script>

</body>

</html>